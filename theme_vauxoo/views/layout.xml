<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="lang_switcher" name="Lang Switcher">
        <span id="lang_switcher">
            <t t-foreach="languages" t-as="lg">
                <a
                    t-att-href="url_for(request.httprequest.path + '?' + keep_query(), lang=lg[0])"
                    t-att-data-default-lang="(editable or translatable) and 'true' if website and lg[0] == website.default_lang_code else None"
                    t-att-data-lang="lg[0]"
                    t-attf-class="js_change_lang #{'active' if website._context.get('lang') == lg[0] else None} ">
                    <t t-esc="lg[0].split('_')[0].upper()"/>
                </a>
                <span class="hx-thin" t-if=" not languages[len(languages) - 1] == lg">/</span>
            </t>
        </span>
    </template>
    <template id="menu_elements" name="Desktop Menu Elements">
        <ul class="nav navbar-nav navbar-center hidden-xs" id="top_menu">
            <t t-foreach="website.menu_id.child_id" t-as="submenu">
                <t t-call="website.submenu"/>
            </t>
        </ul>
        <ul class="nav navbar-nav navbar-right hidden-xs">
            <t t-call="theme_vauxoo.lang_switcher"/>
            <li class="dropdown" t-ignore="true" t-if="website.user_id != user_id">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <b>
                        <span t-esc="(len(user_id.name)&gt;25) and (user_id.name[:23]+'...') or user_id.name"/>
                        <span class="caret"></span>
                    </b>
                </a>
                <ul class="dropdown-menu js_usermenu" role="menu">
                    <li><a href="/my/home" role="menuitem">My Account</a></li>
                    <li id="o_logout"><a t-attf-href="/web/session/logout?redirect=/" role="menuitem">Logout</a></li>
                </ul>
            </li>
            <li groups="base.group_public">
                <a t-attf-href="/web/login">
                    <b>Sign in</b>
                </a>
            </li>
            <a class="btn btn-primary" t-attf-href="/page/contactus">contact</a>
        </ul>
    </template>
    <!-- Customize header  -->
    <template id="layout" inherit_id="website.layout" priority="14">
        <xpath expr="//div[@id='wrapwrap']/header" position="attributes">
            <attribute name="class">black_header</attribute>
        </xpath>
        <xpath expr="//div[@id='wrapwrap']/header/div" position="attributes">
            <attribute name="class" add="mt32 mb32" separator=" "/>
        </xpath>
        <xpath expr="//div[hasclass('navbar-header')]" position="attributes">
            <attribute name="class" add="animated-menu" separator=" "/>
        </xpath>
        <xpath expr="//button" position="replace">
            <div id="nav-icon1" type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-collapse">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('collapse', 'navbar-collapse', 'navbar-top-collapse')]/ul" position="attributes">
            <attribute name="class">nav text-center hidden-lg hidden-md hidden-sm custom-mobile-menu</attribute>
        </xpath>
        <xpath expr="//div[hasclass('collapse', 'navbar-collapse', 'navbar-top-collapse')]/ul" position="after">
            <t t-call="theme_vauxoo.menu_elements"/>
        </xpath>
        <xpath expr="//div[@id='wrapwrap']/header" position="after">
            <header class="sticky-header hidden-header hidden-xs">
                <div class="navbar navbar-default navbar-static-top">
                    <div class="container">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-collapse">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <a class="navbar-brand logo" href="/">
                                <img src="/web/image/theme_vauxoo.vauxoo" t-att-alt="'Logo of %s' % res_company.name" t-att-title="res_company.name" style="max-height: 50px; margin-top:unset;"/>
                            </a>                        </div>
                        <div class="collapse navbar-collapse navbar-top-collapse">
                            <t t-call="theme_vauxoo.menu_elements"/>
                        </div>
                    </div>
                </div>
            </header>
        </xpath>
    </template>
    <!-- Customize Layout -->
    <template id="custom_layout" inherit_id="website.layout" name="Custom Theme Layout">
        <xpath expr="//li[hasclass('divider')]" position="replace"/>
    </template>
    <template id="footer_copyright" inherit_id="website.layout_footer_copyright" name="Vauxoo Copyright">
        <xpath expr="//div[hasclass('container', 'mt16', 'mb8')]" position="replace">
            <div class="container mt16 mb8 div-copyright">
                <div class="text-center text-copyright mt16 mb16">&amp;copy; VAUXOO, 2017</div>
            </div>
        </xpath>
    </template>
    <template id="layout_logo_show" inherit_id="website.layout_logo_show">
        <xpath expr="//a" position="replace">
            <a class="navbar-brand logo" href="/">
                <img src="/web/image/theme_vauxoo.vauxoo" t-att-alt="'Logo of %s' % res_company.name" t-att-title="res_company.name" style="max-height: 50px; margin-top:unset;"/>
            </a>
        </xpath>
    </template>
</odoo>
